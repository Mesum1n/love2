<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Infinity & Beyond | 02.03</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        body, html { margin: 0; padding: 0; overflow: hidden; background: #000; font-family: 'Inter', sans-serif; color: white; }
        
        /* 3D Canvas Background */
        #canvas-container { position: fixed; top: 0; left: 0; z-index: 1; }

        /* Glassmorphism UI */
        .overlay {
            position: relative;
            z-index: 10;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            pointer-events: none; /* Allows 3D interaction behind UI */
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 30px;
            pointer-events: auto;
            max-width: 90%;
        }

        h1 { font-size: 3rem; margin: 0; background: linear-gradient(to right, #fff, #ff4d6d); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        .countdown { display: flex; gap: 15px; margin: 20px 0; }
        .box { font-size: 1.5rem; font-weight: bold; }
        .box span { display: block; font-size: 0.7rem; opacity: 0.6; text-transform: uppercase; }

        .btn-main {
            background: #ff4d6d; color: white; border: none; padding: 15px 40px;
            border-radius: 50px; font-weight: bold; cursor: pointer; transition: 0.3s;
            box-shadow: 0 0 20px rgba(255, 77, 109, 0.5);
        }

        /* The Trap Modal */
        #trap-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 1000;
            display: none; justify-content: center; align-items: center;
        }

        #btn-no {
            position: absolute; transition: 0.1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: transparent; color: #666; border: 1px solid #444;
            padding: 10px 25px; border-radius: 50px; touch-action: none;
        }
    </style>
</head>
<body>

    <div id="canvas-container"></div>

    <div class="overlay">
        <div class="glass-card" id="main-card">
            <p style="letter-spacing: 5px; color: #ff4d6d;">SYSTEM INITIATED</p>
            <h1>MARCH 2nd</h1>
            <div class="countdown">
                <div class="box"><div id="days">00</div><span>Days</span></div>
                <div class="box"><div id="hours">00</div><span>Hrs</span></div>
                <div class="box"><div id="mins">00</div><span>Min</span></div>
                <div class="box"><div id="secs">00</div><span>Sec</span></div>
            </div>
            <button class="btn-main" onclick="launchExperience()">INITIALIZE MAGIC</button>
        </div>
    </div>

    <div id="trap-overlay">
        <div class="glass-card" style="width: 300px; height: 250px; position: relative;">
            <h2>Authorization Required</h2>
            <p>Do you love the developer of this page?</p>
            <div style="margin-top: 50px;">
                <button class="btn-main" onclick="celebrate()">YES</button>
                <button id="btn-no">No</button>
            </div>
        </div>
    </div>

    <script>
        // --- 1. THREE.JS 3D ENGINE ---
        let scene, camera, renderer, starGeo, stars;

        function init3D() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 1000);
            camera.position.z = 1;
            camera.rotation.x = Math.PI/2;

            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            starGeo = new THREE.BufferGeometry();
            let positions = [];
            for(let i=0; i<6000; i++) {
                positions.push(Math.random() * 600 - 300, Math.random() * 600 - 300, Math.random() * 600 - 300);
            }
            starGeo.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
            
            let sprite = new THREE.TextureLoader().load('https://threejs.org/examples/textures/sprites/circle.png');
            let starMaterial = new THREE.PointsMaterial({ color: 0xff4d6d, size: 0.7, map: sprite, transparent: true });
            stars = new THREE.Points(starGeo, starMaterial);
            scene.add(stars);

            animate();
        }

        function animate() {
            stars.rotation.y += 0.002;
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }

        // --- 2. GSAP LUXURY ANIMATIONS ---
        function launchExperience() {
            gsap.to("#main-card", { duration: 1, opacity: 0, y: -50, onComplete: () => {
                document.getElementById('main-card').style.display = 'none';
                document.getElementById('trap-overlay').style.display = 'flex';
                gsap.from(".trap-card", { duration: 0.8, scale: 0.5, opacity: 0, ease: "back.out(1.7)" });
            }});
        }

        // --- 3. THE "NO" BUTTON TRAP (Touch + Mouse) ---
        const noBtn = document.getElementById('btn-no');
        const escape = (e) => {
            e.preventDefault();
            const x = Math.random() * (window.innerWidth - 150);
            const y = Math.random() * (window.innerHeight - 100);
            gsap.to(noBtn, { duration: 0.2, left: x, top: y, ease: "power2.out" });
        };
        noBtn.addEventListener('touchstart', escape);
        noBtn.addEventListener('mouseover', escape);

        // --- 4. COUNTDOWN ---
        const target = new Date("March 2, 2026 00:00:00").getTime();
        setInterval(() => {
            const now = new Date().getTime();
            const d = target - now;
            document.getElementById('days').innerText = Math.floor(d / (1000 * 60 * 60 * 24));
            document.getElementById('hours').innerText = Math.floor((d % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            document.getElementById('mins').innerText = Math.floor((d % (1000 * 60 * 60)) / (1000 * 60));
            document.getElementById('secs').innerText = Math.floor((d % (1000 * 60)) / 1000);
        }, 1000);

        function celebrate() {
            confetti({ particleCount: 200, spread: 70, origin: { y: 0.6 }, colors: ['#ff4d6d', '#ffffff', '#ff758f'] });
            document.getElementById('trap-overlay').innerHTML = "<h1 style='color:white'>See you on March 2nd, Queen! ❤️</h1>";
        }

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        init3D();
    </script>
</body>
</html>